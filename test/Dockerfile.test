FROM node:22-slim

# Install OpenClaw dependencies
RUN apt-get update && apt-get install -y \
    git \
    curl \
    jq \
    && rm -rf /var/lib/apt/lists/*

# Install OpenClaw
RUN npm install -g openclaw@latest

# Create test user
RUN useradd -m -s /bin/bash testuser
USER testuser
WORKDIR /home/testuser

# Initialize OpenClaw config directory
RUN mkdir -p ~/.openclaw

CMD ["/bin/bash"]
